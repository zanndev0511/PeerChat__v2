import type { TeleBoxConfig, TeleBoxRect, TeleBoxState } from "../TeleBox/typings";
import { TeleBoxCollector } from "../TeleBoxCollector";
import { ReadonlyTeleBox, TeleBox } from "../TeleBox";
import type { TeleBoxManagerConfig, TeleBoxManagerCreateConfig, TeleBoxManagerEvents, TeleBoxManagerQueryConfig, TeleBoxManagerUpdateConfig } from "./typings";
import { MaxTitleBar } from "./MaxTitleBar";
import { TeleBoxColorScheme } from "..";
import { SideEffectManager } from "side-effect-manager";
import { Val, ValEnhancedResult } from "value-enhancer";
export * from "./typings";
export * from "./constants";
declare type ValConfig = {
    prefersColorScheme: Val<TeleBoxColorScheme, boolean>;
    containerRect: Val<TeleBoxRect, boolean>;
    collector: Val<TeleBoxCollector | null>;
    collectorRect: Val<TeleBoxRect | undefined>;
    readonly: Val<boolean, boolean>;
    minimized: Val<boolean, boolean>;
    maximized: Val<boolean, boolean>;
    fence: Val<boolean, boolean>;
};
export interface TeleBoxManager extends ValEnhancedResult<ValConfig> {
}
export declare class TeleBoxManager {
    constructor({ root, prefersColorScheme, minimized, maximized, fence, containerRect, collector, namespace, readonly, }?: TeleBoxManagerConfig);
    get boxes(): ReadonlyArray<TeleBox>;
    get topBox(): TeleBox | undefined;
    readonly events: TeleBoxManagerEvents;
    protected _sideEffect: SideEffectManager;
    protected root: HTMLElement;
    readonly namespace: string;
    _darkMode$: Val<boolean, boolean>;
    get darkMode(): boolean;
    _state$: Val<TeleBoxState, boolean>;
    get state(): TeleBoxState;
    /** @deprecated use setMaximized and setMinimized instead */
    setState(state: TeleBoxState, skipUpdate?: boolean): this;
    create(config?: TeleBoxManagerCreateConfig, smartPosition?: boolean): ReadonlyTeleBox;
    query(config?: TeleBoxManagerQueryConfig): ReadonlyTeleBox[];
    queryOne(config?: TeleBoxManagerQueryConfig): ReadonlyTeleBox | undefined;
    update(boxID: string, config: TeleBoxManagerUpdateConfig, skipUpdate?: boolean): void;
    updateAll(config: TeleBoxManagerUpdateConfig, skipUpdate?: boolean): void;
    remove(boxOrID: string | TeleBox, skipUpdate?: boolean): ReadonlyTeleBox | undefined;
    removeTopBox(): ReadonlyTeleBox | undefined;
    removeAll(skipUpdate?: boolean): ReadonlyTeleBox[];
    destroy(skipUpdate?: boolean): void;
    wrapClassName(className: string): string;
    focusBox(boxOrID: string | TeleBox, skipUpdate?: boolean): void;
    focusTopBox(): void;
    blurBox(boxOrID: string | TeleBox, skipUpdate?: boolean): void;
    blurAll(skipUpdate?: boolean): void;
    protected maxTitleBar: MaxTitleBar;
    protected boxes$: Val<TeleBox[]>;
    protected topBox$: Val<TeleBox | undefined>;
    protected teleBoxMatcher(config: TeleBoxManagerQueryConfig): (box: TeleBox) => boolean;
    protected updateBox(box: TeleBox, config: TeleBoxManagerUpdateConfig, skipUpdate?: boolean): void;
    protected smartPosition(config?: TeleBoxConfig): TeleBoxConfig;
    protected makeBoxTop(box: TeleBox, skipUpdate?: boolean): void;
    protected getBoxIndex(boxOrID: TeleBox | string): number;
    protected getBox(boxOrID: TeleBox | string): TeleBox | undefined;
}
